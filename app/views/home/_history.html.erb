<%= render "shared/card/base", id: dom_id(history), card_class: "bg-base-100 shadow-md mb-3" do %>
  <div class="collapse collapse-arrow">
    <input type="checkbox">
    <div class="collapse-title font-bold">
      <div class="card-title justify-between">
        <%= render partial: "shared/card/title",
                   locals: { title: history.activity_label } %>
        <%= format_task_status_badge(history.task_status) %>
      </div>
    </div>
    <div class="collapse-content px-0">
      <%= render "shared/card/property_grid", columns: 2 do %>
        <%= render partial: "shared/card/item",
                   locals: {
                     property: History.human_attribute_name(:activity_user),
                     value: history.activity_user
                   }
        %>

        <%= render partial: "shared/card/item",
                   locals: {
                     property: History.human_attribute_name(:activity_type),
                     value: history.activity_type
                   }
        %>

        <%= render partial: "shared/card/item",
                   locals: {
                     property: History.human_attribute_name(:activity_label),
                     value: history.activity_label
                   }
        %>

        <%= render partial: "shared/card/item",
                   locals: {
                     property: History.human_attribute_name(:activity_created_at),
                     value: local_time(history.activity_created_at)
                   }
        %>

        <%= render partial: "shared/card/item",
                   locals: {
                     property: History.human_attribute_name(:activity_data_config_type),
                     value: history.activity_data_config_type
                   }
        %>

        <%= render partial: "shared/card/item",
                   locals: {
                     property: History.human_attribute_name(:activity_data_config_record_type),
                     value: history.activity_data_config_record_type || t("ui.no_value")
                   }
        %>

        <%= render partial: "shared/card/item",
                   locals: {
                     property: History.human_attribute_name(:task_type),
                     value: history.task_type
                   }
        %>

        <%= render partial: "shared/card/item",
                   locals: {
                     property: History.human_attribute_name(:task_status),
                     value: history.task_status
                   }
        %>

        <%= render partial: "shared/card/item",
                   locals: {
                     property: History.human_attribute_name(:task_started_at),
                     value: local_time(history.task_started_at)
                   }
        %>

        <%= render partial: "shared/card/item",
                   locals: {
                      property: History.human_attribute_name(:task_completed_at),
                      value: history.task_completed_at ? local_time(history.task_completed_at) : ("ui.no_value")
                   }
        %>
      <% end %>
    </div>
  </div>
<% end %>
